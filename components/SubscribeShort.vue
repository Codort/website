<!-- Licensed under Apache-2.0. See LICENSE and NOTICE in the root-level directory for full license and copyright details. -->
<template>
  <div id="mc_embed_shell" class="p-0 rounded-lg">
    <div id="mc_embed_signup">
      <form
        id="mc-embedded-subscribe-form"
        :action="formDetails.actionLink"
        method="post"
        name="mc-embedded-subscribe-form"
        class="validate"
        target="_self"
        novalidate=""
      >
        <div id="mc_embed_signup_scroll p-0">
          <div class="flex flex-col w-100 sm:w-[70%]">
            <div class="mc-field-group justify-start">
              <input
                id="mce-EMAIL"
                type="email"
                name="EMAIL"
                class="required email input ps-2 ms-0 mb-0 dark:border-white"
                required=""
                value=""
                placeholder="Email address"
              />
            </div>
            <div
              id="mergeRow-gdpr"
              class="mergeRow gdpr-mergeRow content__gdprBlock mc-field-group"
            >
              <div class="content__gdpr ps-1 py-2">
                <fieldset
                  class="mc_fieldset gdprRequired mc-field-group pb-2"
                  name="interestgroup_field"
                >
                  <label class="checkbox subfield" for="gdpr345557">
                    <input
                      id="gdpr_345557"
                      type="checkbox"
                      name="gdpr[345557]"
                      class="gdpr"
                      value="Y"
                    />
                    <span class="ms-1">
                      I agree to my data being processed in line with the Codort
                      <a
                        href="https://docs.google.com/document/d/1wIBfNnJr3G19zIkc7fjeoZVdJZFhx2l4yDhjPws47iM/edit?usp=sharing"
                      >
                        Privacy Policy</a>
                    </span>
                  </label>
                </fieldset>
                <p></p>
              </div>
            </div>
            <div hidden="">
              <input type="hidden" name="tags" :value="formDetails.tagIds" />
            </div>
            <div id="mce-responses" class="clear foot">
              <div
                id="mce-error-response"
                class="response"
                style="display: none"
              ></div>
              <div
                id="mce-success-response"
                class="response"
                style="display: none"
              ></div>
            </div>
            <div style="position: absolute; left: -5000px" aria-hidden="true">
              /* real people should not fill this in and expect good things - do
              not remove this or risk form bot signups */
              <input
                type="text"
                name="b_1ace6638ad702b3ee9eb639b1_6e0c8184b8"
                tabindex="-1"
                value=""
              />
            </div>
            <div
              class="border-black dark:border-white border-2 border-opacity-100 sm:border-opacity-0 sm:dark:border-opacity-0 hover:border-opacity-100 dark:hover:border-opacity-100 transition-all duration-300 rounded-md self-start"
            >
              <button
                id="mc-embedded-subscribe"
                type="submit"
                name="subscribe"
                class="inline-flex items-center px-2 py-3"
              >
                <Icon name="ic:email" color="black" size="20px" />
                <span class="ps-2">Subscribe</span>
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</template>

<script lang="ts" setup>
const props = defineProps({
  formName: {
    type: String,
    default: 'newsletter',
    validator: (prop: string) =>
      ['newsletter', 'adopter', 'partner'].includes(prop),
  },
});

const formDetails = newsletterDetails(props.formName);
</script>
